Make the Log Symptoms screen fully dynamic and functionally complete using API and DB integration, while strictly preserving design and avoiding any impact to other screens.

ğŸ”§ Functional Requirements:
Symptoms Selection (Checkboxes)

âœ… Each symptom (e.g., Headache, Nausea, Fatigue, etc.) should be selectable via UI

ğŸ§  On save, all selected symptoms must be sent to the backend as an array

ğŸ›¢ï¸ Save selected symptoms in the database under the current user's log

Intensity Slider

âœ… User selects severity from 1 (Mild) to 10 (Severe)

ğŸ§  Capture the slider value and store it as part of the log entry

ğŸ”¢ Store as integer in DB field like intensity_level

When Did This Occur (Timing Section)

âœ… Options: â€œJust now,â€ â€œEarlier today,â€ â€œCustom timeâ€

ğŸ§  Save timestamp accordingly:

â€œJust nowâ€ â†’ current time (Date.now())

â€œEarlier todayâ€ â†’ store fixed morning/afternoon/evening time (e.g., 9 AM)

â€œCustom timeâ€ â†’ show a time picker and capture userâ€™s input

â³ Store the selected time in DB with log

Possible Triggers

âœ… Multi-select options (Stress, Weather, Food, etc.)

ğŸ§  Save all selected triggers in a triggers array field in DB

Store alongside symptom log

Save Log Button

âœ… On click, validate all inputs:

At least one symptom selected

Intensity value set

A time option selected

ğŸ”„ Submit payload to API: POST /api/symptoms-log

json
Copy
Edit
{
  "userId": "user123",
  "symptoms": ["Headache", "Light Sensitivity"],
  "intensity": 7,
  "occurredAt": "2025-06-24T14:00:00Z",
  "triggers": ["Stress", "Poor Sleep"]
}
ğŸ’¾ Store in symptom_logs table in DB

âœ… Show success toast/snackbar

ğŸ”„ On success: redirect to History screen or show confirmation without page reload

ğŸ“˜ Optional Enhancements (but not mandatory):
â° If â€œCustom timeâ€ is chosen, add a lightweight time picker component (React Time Picker)

ğŸ§  Store all logs with userId from token or global state

ğŸ›¡ï¸ Critical Constraints (DO NOT SKIP):
âœ… Do NOT change any screen other than Log Symptoms
âœ… UI design must remain exactly as per current Figma
âœ… Component structure, layout, padding, colors should remain unchanged
âœ… Do NOT break any other logging feature like food or daily log
âœ… API controller and DB changes must be scoped to symptom logging only
âœ… Place new code in a modular way (logSymptom.ts, symptomController.js) to isolate functionality

ğŸ“¦ Deliverables Checklist:
 Functional symptom multi-select

 Intensity slider capture

 Timing section with custom time support

 Trigger multi-select save

 Full API submission and DB write

 Redirect or confirmation after success

 Design untouched

 Other screens unaffected

